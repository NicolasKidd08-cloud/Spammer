--[[
    NEXA JOB CONNECTOR - EXECUTOR VERSION
    Simple plug-and-play script for Roblox executors
    
    QUICK SETUP:
    1. Run your Python Nexa software
    2. Copy the URL shown in the Python app (e.g., http://192.168.1.100:8080/jobs)
    3. Replace SERVER_URL below with your URL
    4. Execute this script in Roblox
]]

-- ========= CONFIGURATION =========
local SERVER_URL = "http://192.168.1.100:8080/jobs"  -- CHANGE THIS TO YOUR IP!
local AUTO_JOIN = false  -- Set to true to automatically join best job
-- =================================

local HttpService = game:GetService("HttpService")
local TeleportService = game:GetService("TeleportService")
local Players = game:GetService("Players")

print("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
print("    ğŸš€ NEXA JOB CONNECTOR v1.0")
print("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
print("")

-- Fetch jobs from server
local function getJobs()
    local success, result = pcall(function()
        return HttpService:GetAsync(SERVER_URL)
    end)
    
    if success then
        local jobs = HttpService:JSONDecode(result)
        return jobs
    else
        warn("âŒ Failed to connect: " .. tostring(result))
        return nil
    end
end

-- Display jobs in console
local function showJobs(jobs)
    if not jobs or #jobs == 0 then
        print("ğŸ“­ No jobs available")
        return
    end
    
    print("ğŸ“‹ Found " .. #jobs .. " jobs:")
    print("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€")
    
    for i = 1, math.min(5, #jobs) do
        local job = jobs[i]
        print("")
        print("ğŸ”¥ JOB #" .. i)
        print("   Name: " .. job.name)
        print("   Money: " .. job.money)
        print("   Players: " .. job.players .. "/8")
        print("   ID: " .. job.jobId)
    end
    print("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€")
end

-- Join a specific job
local function joinJob(jobId)
    print("ğŸš€ Joining job: " .. jobId)
    
    local success, err = pcall(function()
        TeleportService:TeleportToPlaceInstance(game.PlaceId, jobId, Players.LocalPlayer)
    end)
    
    if not success then
        warn("âŒ Failed to join: " .. tostring(err))
    end
end

-- Main execution
print("ğŸ” Fetching jobs from server...")
print("Server: " .. SERVER_URL)
print("")

local jobs = getJobs()

if jobs then
    print("âœ… Connected successfully!")
    print("")
    showJobs(jobs)
    
    if AUTO_JOIN and #jobs > 0 then
        print("")
        print("âš¡ Auto-join enabled! Joining best job...")
        wait(1)
        joinJob(jobs[1].jobId)
    else
        print("")
        print("ğŸ’¡ Chat Commands:")
        print("   /jobs - Show all jobs")
        print("   /join - Join best job")
    end
else
    warn("âŒ Could not connect to server!")
    warn("Make sure:")
    warn("  1. Python software is running")
    warn("  2. SERVER_URL is correct")
    warn("  3. You're on the same network")
end

-- Chat commands
Players.LocalPlayer.Chatted:Connect(function(msg)
    if msg:lower() == "/jobs" then
        print("")
        local newJobs = getJobs()
        showJobs(newJobs)
    elseif msg:lower() == "/join" then
        print("")
        local newJobs = getJobs()
        if newJobs and #newJobs > 0 then
            joinJob(newJobs[1].jobId)
        else
            print("âŒ No jobs available")
        end
    end
end)

print("")
print("âœ… Script loaded! Monitoring active.")
print("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
