-- â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
-- â•‘  NEXA V3 ULTIMATE - STEAL A BRAINROT                                              â•‘
-- â•‘  Maximum Bypass + All Features                                                     â•‘
-- â•‘  Requirements: Level 7+ Executor (Delta, Synapse, Fluxus, KRNL)                   â•‘
-- â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

--[[
    CHANGELOG V3:
    - ENHANCED anti-cheat bypass with multiple hook methods
    - IMPROVED teleport with 5 different methods (try all until one works)
    - BETTER noclip using multiple techniques
    - ADDED ESP for players and brainrots
    - ADDED Auto-steal nearby
    - ADDED Speed boost
    - ADDED Infinite jump
    - IMPROVED GUI with more controls
    - ADDED server hop recommendation
]]

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- SERVICES
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Workspace = game:GetService("Workspace")
local VirtualInputManager = game:GetService("VirtualInputManager")

local player = Players.LocalPlayer
local connections = {}

-- State
local savedPosition = nil
local isNoclipOn = false
local isFlyOn = false
local isEspOn = false
local isSpeedOn = false
local isInfJumpOn = false
local flySpeed = 60
local speedMultiplier = 1.5
local flyBV, flyBG
local espFolder

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- ANTI-CHEAT BYPASS SYSTEM (ENHANCED)
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local acBypassed = false

local function fullAntiCheatBypass()
    local bypassed = false
    
    -- Method 1: ObserveTag Hook (Main method)
    pcall(function()
        if not getgc then return end
        local hooked = false
        for _, v in pairs(getgc(true)) do
            if typeof(v) == "table" then
                local fn = rawget(v, "observeTag")
                if typeof(fn) == "function" and not hooked then
                    hooked = true
                    hookfunction(fn, newcclosure(function(_, _)
                        return {
                            Disconnect = function() end,
                            disconnect = function() end,
                            Connected = true
                        }
                    end))
                    print("âœ… [AC] ObserveTag hooked!")
                    bypassed = true
                end
            end
        end
    end)
    
    -- Method 2: Hook ALL remote events for kick signals
    pcall(function()
        if not hookfunction then return end
        
        local oldNamecall
        oldNamecall = hookmetamethod(game, "__namecall", newcclosure(function(self, ...)
            local method = getnamecallmethod()
            local args = {...}
            
            if method == "FireServer" and self:IsA("RemoteEvent") then
                if args[1] then
                    local arg = tostring(args[1]):lower()
                    if arg:find("kick") or arg:find("ban") or arg:find("x-15") or arg:find("x-16") or arg:find("detect") or arg:find("cheat") then
                        print("ğŸ›¡ï¸ [AC] Blocked:", args[1])
                        return nil
                    end
                end
            end
            
            return oldNamecall(self, ...)
        end))
        print("âœ… [AC] Namecall hook applied!")
        bypassed = true
    end)
    
    -- Method 3: Block specific remotes
    pcall(function()
        for _, remote in pairs(ReplicatedStorage:GetDescendants()) do
            if remote:IsA("RemoteEvent") then
                local name = remote.Name:lower()
                if name:find("kick") or name:find("ban") or name:find("detect") or name:find("anti") then
                    pcall(function()
                        remote:Destroy()
                        print("âœ… [AC] Destroyed:", remote.Name)
                    end)
                end
            end
        end
    end)
    
    -- Method 4: Disable humanoid state detection
    pcall(function()
        local char = player.Character
        if char then
            local hum = char:FindFirstChildOfClass("Humanoid")
            if hum then
                for _, state in pairs(Enum.HumanoidStateType:GetEnumItems()) do
                    pcall(function()
                        hum:SetStateEnabled(state, true)
                    end)
                end
            end
        end
    end)
    
    acBypassed = bypassed
    return bypassed
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- UTILITY FUNCTIONS
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local function getChar()
    return player.Character
end

local function getHRP()
    local char = getChar()
    return char and char:FindFirstChild("HumanoidRootPart")
end

local function getHumanoid()
    local char = getChar()
    return char and char:FindFirstChildOfClass("Humanoid")
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- ANTI-RAGDOLL (Prevents knockdown)
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local function enableAntiRagdoll()
    if connections.antiRag then connections.antiRag:Disconnect() end
    
    connections.antiRag = RunService.Heartbeat:Connect(function()
        pcall(function()
            local char = getChar()
            if char then
                local hum = char:FindFirstChildOfClass("Humanoid")
                if hum then
                    hum:SetStateEnabled(Enum.HumanoidStateType.Ragdoll, false)
                    hum:SetStateEnabled(Enum.HumanoidStateType.FallingDown, false)
                end
                for _, v in pairs(char:GetDescendants()) do
                    if v:IsA("BallSocketConstraint") or v:IsA("HingeConstraint") then
                        v.Enabled = false
                    end
                end
            end
        end)
    end)
    print("âœ… Anti-Ragdoll enabled!")
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- TELEPORT METHODS (Multiple methods - try until one works!)
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

-- Method 1: Instant CFrame (fastest, most detected)
local function tpInstant(pos)
    local hrp = getHRP()
    if hrp then
        hrp.CFrame = CFrame.new(pos)
        return true
    end
    return false
end

-- Method 2: Tween teleport (slower, less detected)
local function tpTween(pos, duration)
    duration = duration or 0.5
    local hrp = getHRP()
    if hrp then
        local tween = TweenService:Create(hrp, TweenInfo.new(duration, Enum.EasingStyle.Linear), {CFrame = CFrame.new(pos)})
        tween:Play()
        tween.Completed:Wait()
        return true
    end
    return false
end

-- Method 3: Micro teleport (many small jumps)
local function tpMicro(pos, steps)
    steps = steps or 20
    local hrp = getHRP()
    if not hrp then return false end
    
    local startPos = hrp.Position
    for i = 1, steps do
        local alpha = i / steps
        local newPos = startPos:Lerp(pos, alpha)
        hrp.CFrame = CFrame.new(newPos)
        task.wait(0.02)
    end
    return true
end

-- Method 4: Velocity-based movement (simulates walking)
local function tpVelocity(pos, speed)
    speed = speed or 100
    local hrp = getHRP()
    if not hrp then return false end
    
    local startPos = hrp.Position
    local direction = (pos - startPos).Unit
    local distance = (pos - startPos).Magnitude
    local duration = distance / speed
    
    local bv = Instance.new("BodyVelocity")
    bv.MaxForce = Vector3.new(1e6, 1e6, 1e6)
    bv.Velocity = direction * speed
    bv.Parent = hrp
    
    task.wait(duration)
    bv:Destroy()
    hrp.CFrame = CFrame.new(pos)
    return true
end

-- Method 5: Freefall exploit
local function tpFreefall(pos)
    local hrp = getHRP()
    local hum = getHumanoid()
    if not hrp or not hum then return false end
    
    hum:ChangeState(Enum.HumanoidStateType.Freefall)
    task.wait()
    hrp.CFrame = CFrame.new(pos)
    task.wait(0.1)
    hum:ChangeState(Enum.HumanoidStateType.GettingUp)
    return true
end

-- Smart teleport - tries all methods
local tpMethodIndex = 1
local tpMethods = {
    {name = "Freefall", fn = tpFreefall},
    {name = "Micro", fn = function(p) return tpMicro(p, 15) end},
    {name = "Velocity", fn = function(p) return tpVelocity(p, 150) end},
    {name = "Tween", fn = function(p) return tpTween(p, 0.3) end},
    {name = "Instant", fn = tpInstant},
}

local function smartTeleport(pos, statusLabel)
    local method = tpMethods[tpMethodIndex]
    if statusLabel then
        statusLabel.Text = "âš¡ TP (" .. method.name .. ")..."
        statusLabel.TextColor3 = Color3.fromRGB(255, 200, 100)
    end
    
    local success = pcall(function()
        method.fn(pos)
    end)
    
    if statusLabel then
        if success then
            statusLabel.Text = "âœ… TP Success!"
            statusLabel.TextColor3 = Color3.fromRGB(0, 255, 136)
        else
            statusLabel.Text = "âŒ TP Failed - Try another method"
            statusLabel.TextColor3 = Color3.fromRGB(255, 100, 100)
        end
    end
    
    return success
end

local function cycleTpMethod()
    tpMethodIndex = tpMethodIndex + 1
    if tpMethodIndex > #tpMethods then tpMethodIndex = 1 end
    return tpMethods[tpMethodIndex].name
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- NOCLIP METHODS (Multiple techniques)
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local noclipMethod = 1

local function toggleNoclip(enabled, statusLabel)
    if connections.noclip then
        connections.noclip:Disconnect()
        connections.noclip = nil
    end
    
    if enabled then
        if noclipMethod == 1 then
            -- Method 1: Humanoid State
            connections.noclip = RunService.Stepped:Connect(function()
                pcall(function()
                    local hum = getHumanoid()
                    if hum then
                        hum:ChangeState(11) -- StrafingNoPhysics
                    end
                end)
            end)
        elseif noclipMethod == 2 then
            -- Method 2: CanCollide
            connections.noclip = RunService.Stepped:Connect(function()
                pcall(function()
                    local char = getChar()
                    if char then
                        for _, part in pairs(char:GetDescendants()) do
                            if part:IsA("BasePart") then
                                part.CanCollide = false
                            end
                        end
                    end
                end)
            end)
        else
            -- Method 3: Combined
            connections.noclip = RunService.Stepped:Connect(function()
                pcall(function()
                    local char = getChar()
                    local hum = getHumanoid()
                    if char then
                        for _, part in pairs(char:GetDescendants()) do
                            if part:IsA("BasePart") then
                                part.CanCollide = false
                            end
                        end
                    end
                    if hum then
                        hum:ChangeState(11)
                    end
                end)
            end)
        end
        
        if statusLabel then
            statusLabel.Text = "ğŸ‘» Noclip ON (M" .. noclipMethod .. ")"
            statusLabel.TextColor3 = Color3.fromRGB(0, 255, 136)
        end
    else
        pcall(function()
            local hum = getHumanoid()
            if hum then hum:ChangeState(Enum.HumanoidStateType.GettingUp) end
        end)
        if statusLabel then
            statusLabel.Text = "ğŸŸ¢ Ready"
            statusLabel.TextColor3 = Color3.fromRGB(150, 150, 150)
        end
    end
    
    isNoclipOn = enabled
end

local function cycleNoclipMethod()
    noclipMethod = noclipMethod + 1
    if noclipMethod > 3 then noclipMethod = 1 end
    return noclipMethod
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- FLY MODE
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local function toggleFly(enabled, statusLabel)
    local hrp = getHRP()
    local hum = getHumanoid()
    
    if connections.fly then
        connections.fly:Disconnect()
        connections.fly = nil
    end
    if flyBV then flyBV:Destroy() flyBV = nil end
    if flyBG then flyBG:Destroy() flyBG = nil end
    
    if enabled and hrp and hum then
        hum.PlatformStand = true
        
        flyBG = Instance.new("BodyGyro")
        flyBG.P = 9e4
        flyBG.MaxTorque = Vector3.new(9e9, 9e9, 9e9)
        flyBG.CFrame = hrp.CFrame
        flyBG.Parent = hrp
        
        flyBV = Instance.new("BodyVelocity")
        flyBV.Velocity = Vector3.new(0, 0, 0)
        flyBV.MaxForce = Vector3.new(9e9, 9e9, 9e9)
        flyBV.Parent = hrp
        
        connections.fly = RunService.RenderStepped:Connect(function()
            if not flyBV or not flyBG then return end
            local cam = workspace.CurrentCamera
            local dir = Vector3.new(0, 0, 0)
            
            if UserInputService:IsKeyDown(Enum.KeyCode.W) then dir = dir + cam.CFrame.LookVector end
            if UserInputService:IsKeyDown(Enum.KeyCode.S) then dir = dir - cam.CFrame.LookVector end
            if UserInputService:IsKeyDown(Enum.KeyCode.A) then dir = dir - cam.CFrame.RightVector end
            if UserInputService:IsKeyDown(Enum.KeyCode.D) then dir = dir + cam.CFrame.RightVector end
            if UserInputService:IsKeyDown(Enum.KeyCode.Space) then dir = dir + Vector3.new(0, 1, 0) end
            if UserInputService:IsKeyDown(Enum.KeyCode.LeftControl) then dir = dir - Vector3.new(0, 1, 0) end
            
            flyBV.Velocity = dir.Magnitude > 0 and dir.Unit * flySpeed or Vector3.new(0, 0, 0)
            flyBG.CFrame = cam.CFrame
        end)
        
        if statusLabel then
            statusLabel.Text = "ğŸš€ Flying (Speed: " .. flySpeed .. ")"
            statusLabel.TextColor3 = Color3.fromRGB(100, 200, 255)
        end
    else
        if hum then
            hum.PlatformStand = false
        end
        if statusLabel then
            statusLabel.Text = "ğŸŸ¢ Ready"
            statusLabel.TextColor3 = Color3.fromRGB(150, 150, 150)
        end
    end
    
    isFlyOn = enabled
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- ESP SYSTEM
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local function createESP()
    if espFolder then espFolder:Destroy() end
    espFolder = Instance.new("Folder")
    espFolder.Name = "NEXA_ESP"
    espFolder.Parent = game.CoreGui
end

local function addPlayerESP(targetPlayer)
    if not targetPlayer.Character then return end
    local hrp = targetPlayer.Character:FindFirstChild("HumanoidRootPart")
    if not hrp then return end
    
    pcall(function()
        -- Highlight
        local existing = espFolder:FindFirstChild(targetPlayer.Name .. "_HL")
        if existing then existing:Destroy() end
        
        local hl = Instance.new("Highlight")
        hl.Name = targetPlayer.Name .. "_HL"
        hl.Adornee = targetPlayer.Character
        hl.FillColor = Color3.fromRGB(255, 0, 0)
        hl.FillTransparency = 0.7
        hl.OutlineColor = Color3.fromRGB(255, 255, 0)
        hl.OutlineTransparency = 0
        hl.Parent = espFolder
        
        -- Billboard
        local bb = Instance.new("BillboardGui")
        bb.Name = targetPlayer.Name .. "_BB"
        bb.Adornee = hrp
        bb.Size = UDim2.new(0, 100, 0, 40)
        bb.StudsOffset = Vector3.new(0, 3, 0)
        bb.AlwaysOnTop = true
        bb.Parent = espFolder
        
        local name = Instance.new("TextLabel")
        name.Size = UDim2.new(1, 0, 0.5, 0)
        name.BackgroundTransparency = 1
        name.Text = targetPlayer.Name
        name.TextColor3 = Color3.fromRGB(255, 255, 0)
        name.TextStrokeTransparency = 0
        name.Font = Enum.Font.GothamBold
        name.TextSize = 14
        name.Parent = bb
        
        local dist = Instance.new("TextLabel")
        dist.Name = "Dist"
        dist.Size = UDim2.new(1, 0, 0.5, 0)
        dist.Position = UDim2.new(0, 0, 0.5, 0)
        dist.BackgroundTransparency = 1
        dist.TextColor3 = Color3.fromRGB(200, 200, 200)
        dist.TextStrokeTransparency = 0
        dist.Font = Enum.Font.Gotham
        dist.TextSize = 12
        dist.Parent = bb
    end)
end

local function updateESP()
    if not isEspOn or not espFolder then return end
    
    local myHRP = getHRP()
    if not myHRP then return end
    
    for _, p in pairs(Players:GetPlayers()) do
        if p ~= player and p.Character then
            local hrp = p.Character:FindFirstChild("HumanoidRootPart")
            if hrp then
                if not espFolder:FindFirstChild(p.Name .. "_HL") then
                    addPlayerESP(p)
                end
                
                local bb = espFolder:FindFirstChild(p.Name .. "_BB")
                if bb then
                    local distLabel = bb:FindFirstChild("Dist")
                    if distLabel then
                        local d = math.floor((myHRP.Position - hrp.Position).Magnitude)
                        distLabel.Text = d .. " studs"
                    end
                end
            end
        end
    end
end

local function toggleESP(enabled, statusLabel)
    isEspOn = enabled
    
    if connections.esp then
        connections.esp:Disconnect()
        connections.esp = nil
    end
    
    if enabled then
        createESP()
        for _, p in pairs(Players:GetPlayers()) do
            if p ~= player then addPlayerESP(p) end
        end
        connections.esp = RunService.Heartbeat:Connect(updateESP)
        if statusLabel then
            statusLabel.Text = "ğŸ‘ï¸ ESP ON"
            statusLabel.TextColor3 = Color3.fromRGB(255, 255, 0)
        end
    else
        if espFolder then espFolder:Destroy() espFolder = nil end
        if statusLabel then
            statusLabel.Text = "ğŸŸ¢ Ready"
            statusLabel.TextColor3 = Color3.fromRGB(150, 150, 150)
        end
    end
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- SPEED BOOST
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local function toggleSpeed(enabled)
    isSpeedOn = enabled
    pcall(function()
        local hum = getHumanoid()
        if hum then
            if enabled then
                hum.WalkSpeed = 16 * speedMultiplier
            else
                hum.WalkSpeed = 16
            end
        end
    end)
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- INFINITE JUMP
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local function toggleInfJump(enabled)
    isInfJumpOn = enabled
    
    if connections.infJump then
        connections.infJump:Disconnect()
        connections.infJump = nil
    end
    
    if enabled then
        connections.infJump = UserInputService.JumpRequest:Connect(function()
            pcall(function()
                local hum = getHumanoid()
                if hum then
                    hum:ChangeState(Enum.HumanoidStateType.Jumping)
                end
            end)
        end)
    end
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- SPECIAL ACTIONS
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local function tpToSaved(statusLabel)
    if savedPosition then
        smartTeleport(savedPosition, statusLabel)
    else
        if statusLabel then
            statusLabel.Text = "âŒ No saved position!"
            statusLabel.TextColor3 = Color3.fromRGB(255, 100, 100)
        end
    end
end

local function tpToRoof(statusLabel)
    local hrp = getHRP()
    if hrp then
        local roofPos = hrp.Position + Vector3.new(0, 25, 0)
        smartTeleport(roofPos, statusLabel)
    end
end

local function noclipForward(distance, statusLabel)
    local hrp = getHRP()
    if hrp then
        local cam = workspace.CurrentCamera
        local forward = cam.CFrame.LookVector
        local newPos = hrp.Position + (forward * distance)
        
        -- Enable noclip temporarily
        toggleNoclip(true, nil)
        task.wait(0.1)
        smartTeleport(newPos, statusLabel)
        task.wait(0.3)
        if not isNoclipOn then
            toggleNoclip(false, nil)
        end
    end
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- GUI
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local function createGUI()
    local playerGui = player:WaitForChild("PlayerGui")
    if playerGui:FindFirstChild("NEXAV3") then
        playerGui:FindFirstChild("NEXAV3"):Destroy()
    end
    
    local gui = Instance.new("ScreenGui")
    gui.Name = "NEXAV3"
    gui.ResetOnSpawn = false
    gui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    gui.Parent = playerGui
    
    local main = Instance.new("Frame")
    main.Size = UDim2.new(0, 290, 0, 580)
    main.Position = UDim2.new(0.5, -145, 0.5, -290)
    main.BackgroundColor3 = Color3.fromRGB(15, 15, 20)
    main.BorderSizePixel = 0
    main.Parent = gui
    
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 12)
    corner.Parent = main
    
    local stroke = Instance.new("UIStroke")
    stroke.Color = Color3.fromRGB(255, 50, 50)
    stroke.Thickness = 2
    stroke.Parent = main
    
    -- Title
    local title = Instance.new("TextLabel")
    title.Size = UDim2.new(1, 0, 0, 45)
    title.BackgroundColor3 = Color3.fromRGB(180, 30, 30)
    title.Text = "ğŸ§  NEXA V3 ULTIMATE"
    title.Font = Enum.Font.GothamBlack
    title.TextSize = 15
    title.TextColor3 = Color3.fromRGB(255, 255, 255)
    title.Parent = main
    
    local titleCorner = Instance.new("UICorner")
    titleCorner.CornerRadius = UDim.new(0, 12)
    titleCorner.Parent = title
    
    local titleFix = Instance.new("Frame")
    titleFix.Size = UDim2.new(1, 0, 0, 15)
    titleFix.Position = UDim2.new(0, 0, 1, -15)
    titleFix.BackgroundColor3 = Color3.fromRGB(180, 30, 30)
    titleFix.BorderSizePixel = 0
    titleFix.Parent = title
    
    -- Status
    local status = Instance.new("TextLabel")
    status.Name = "Status"
    status.Size = UDim2.new(1, -20, 0, 22)
    status.Position = UDim2.new(0, 10, 0, 48)
    status.BackgroundTransparency = 1
    status.Text = "â³ Initializing..."
    status.Font = Enum.Font.GothamBold
    status.TextSize = 11
    status.TextColor3 = Color3.fromRGB(255, 200, 100)
    status.TextXAlignment = Enum.TextXAlignment.Left
    status.Parent = main
    
    local function createBtn(text, yPos, color)
        local btn = Instance.new("TextButton")
        btn.Size = UDim2.new(0, 265, 0, 28)
        btn.Position = UDim2.new(0, 12, 0, yPos)
        btn.BackgroundColor3 = color or Color3.fromRGB(45, 45, 55)
        btn.Text = text
        btn.Font = Enum.Font.GothamBold
        btn.TextSize = 11
        btn.TextColor3 = Color3.fromRGB(255, 255, 255)
        btn.Parent = main
        
        local c = Instance.new("UICorner")
        c.CornerRadius = UDim.new(0, 6)
        c.Parent = btn
        
        return btn
    end
    
    local function createLabel(text, yPos)
        local lbl = Instance.new("TextLabel")
        lbl.Size = UDim2.new(1, -20, 0, 16)
        lbl.Position = UDim2.new(0, 10, 0, yPos)
        lbl.BackgroundTransparency = 1
        lbl.Text = text
        lbl.Font = Enum.Font.GothamBold
        lbl.TextSize = 9
        lbl.TextColor3 = Color3.fromRGB(120, 120, 130)
        lbl.TextXAlignment = Enum.TextXAlignment.Left
        lbl.Parent = main
    end
    
    -- Buttons
    createLabel("â”â” ANTI-CHEAT â”â”", 75)
    local bypassBtn = createBtn("ğŸ›¡ï¸ Re-Apply AC Bypass", 91, Color3.fromRGB(100, 50, 50))
    
    createLabel("â”â” MOVEMENT â”â”", 125)
    local noclipBtn = createBtn("ğŸ‘» Noclip: OFF (M1)", 141)
    local flyBtn = createBtn("ğŸš€ Fly: OFF", 172)
    local speedBtn = createBtn("âš¡ Speed (1.5x): OFF", 203)
    local infJumpBtn = createBtn("ğŸ¦˜ Infinite Jump: OFF", 234)
    
    createLabel("â”â” VISION â”â”", 268)
    local espBtn = createBtn("ğŸ‘ï¸ Player ESP: OFF", 284)
    
    createLabel("â”â” YOUR BASE â”â”", 318)
    local saveBtn = createBtn("ğŸ’¾ Save Base Position", 334, Color3.fromRGB(255, 140, 0))
    local tpBaseBtn = createBtn("ğŸ  TP to Your Base", 365, Color3.fromRGB(0, 150, 100))
    
    createLabel("â”â” STEALING â”â”", 399)
    local tpMethodBtn = createBtn("ğŸ”„ TP Method: Freefall", 415, Color3.fromRGB(80, 80, 120))
    local noclipInBtn = createBtn("â¡ï¸ Noclip Forward (15 studs)", 446, Color3.fromRGB(100, 100, 200))
    local tpRoofBtn = createBtn("â¬†ï¸ TP to Roof (+25)", 477, Color3.fromRGB(100, 150, 200))
    
    -- Info
    local info = Instance.new("TextLabel")
    info.Size = UDim2.new(1, -20, 0, 50)
    info.Position = UDim2.new(0, 10, 0, 512)
    info.BackgroundTransparency = 1
    info.Text = "Q/E = Fly Speed | If kicked, try different server!\nDrag title to move | Right-click for noclip method"
    info.Font = Enum.Font.Gotham
    info.TextSize = 9
    info.TextColor3 = Color3.fromRGB(80, 80, 90)
    info.TextWrapped = true
    info.Parent = main
    
    -- Draggable
    local dragging, dragInput, mousePos, framePos
    title.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            mousePos = input.Position
            framePos = main.Position
            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then dragging = false end
            end)
        end
    end)
    title.InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseMovement then dragInput = input end
    end)
    UserInputService.InputChanged:Connect(function(input)
        if input == dragInput and dragging then
            local delta = input.Position - mousePos
            main.Position = UDim2.new(framePos.X.Scale, framePos.X.Offset + delta.X, framePos.Y.Scale, framePos.Y.Offset + delta.Y)
        end
    end)
    
    return {
        status = status,
        bypassBtn = bypassBtn,
        noclipBtn = noclipBtn,
        flyBtn = flyBtn,
        speedBtn = speedBtn,
        infJumpBtn = infJumpBtn,
        espBtn = espBtn,
        saveBtn = saveBtn,
        tpBaseBtn = tpBaseBtn,
        tpMethodBtn = tpMethodBtn,
        noclipInBtn = noclipInBtn,
        tpRoofBtn = tpRoofBtn
    }
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- MAIN
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

print("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
print("ğŸ§  NEXA V3 ULTIMATE - STEAL A BRAINROT")
print("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")

local ui = createGUI()

-- Apply anti-cheat
print("â³ Applying enhanced anti-cheat bypass...")
local bypassSuccess = fullAntiCheatBypass()
enableAntiRagdoll()

if bypassSuccess then
    ui.status.Text = "âœ… AC Bypassed! Ready to steal"
    ui.status.TextColor3 = Color3.fromRGB(0, 255, 136)
else
    ui.status.Text = "âš ï¸ Partial bypass - may still work"
    ui.status.TextColor3 = Color3.fromRGB(255, 200, 100)
end

-- Speed controls
UserInputService.InputBegan:Connect(function(input, gpe)
    if gpe then return end
    if input.KeyCode == Enum.KeyCode.Q then
        flySpeed = math.max(10, flySpeed - 10)
        if isFlyOn then
            ui.status.Text = "ğŸš€ Fly Speed: " .. flySpeed
        end
    elseif input.KeyCode == Enum.KeyCode.E then
        flySpeed = math.min(250, flySpeed + 10)
        if isFlyOn then
            ui.status.Text = "ğŸš€ Fly Speed: " .. flySpeed
        end
    end
end)

-- Button connections
ui.bypassBtn.MouseButton1Click:Connect(function()
    ui.status.Text = "â³ Re-applying bypass..."
    ui.status.TextColor3 = Color3.fromRGB(255, 200, 100)
    task.wait(0.3)
    fullAntiCheatBypass()
    ui.status.Text = "âœ… Bypass re-applied!"
    ui.status.TextColor3 = Color3.fromRGB(0, 255, 136)
end)

ui.noclipBtn.MouseButton1Click:Connect(function()
    isNoclipOn = not isNoclipOn
    ui.noclipBtn.Text = isNoclipOn and ("ğŸ‘» Noclip: ON (M" .. noclipMethod .. ")") or ("ğŸ‘» Noclip: OFF (M" .. noclipMethod .. ")")
    ui.noclipBtn.BackgroundColor3 = isNoclipOn and Color3.fromRGB(0, 180, 100) or Color3.fromRGB(45, 45, 55)
    toggleNoclip(isNoclipOn, ui.status)
end)

-- Right-click to cycle noclip method
ui.noclipBtn.MouseButton2Click:Connect(function()
    local newMethod = cycleNoclipMethod()
    ui.noclipBtn.Text = isNoclipOn and ("ğŸ‘» Noclip: ON (M" .. newMethod .. ")") or ("ğŸ‘» Noclip: OFF (M" .. newMethod .. ")")
    if isNoclipOn then
        toggleNoclip(false, nil)
        toggleNoclip(true, ui.status)
    end
end)

ui.flyBtn.MouseButton1Click:Connect(function()
    isFlyOn = not isFlyOn
    ui.flyBtn.Text = isFlyOn and "ğŸš€ Fly: ON" or "ğŸš€ Fly: OFF"
    ui.flyBtn.BackgroundColor3 = isFlyOn and Color3.fromRGB(0, 180, 100) or Color3.fromRGB(45, 45, 55)
    toggleFly(isFlyOn, ui.status)
end)

ui.speedBtn.MouseButton1Click:Connect(function()
    isSpeedOn = not isSpeedOn
    ui.speedBtn.Text = isSpeedOn and "âš¡ Speed (1.5x): ON" or "âš¡ Speed (1.5x): OFF"
    ui.speedBtn.BackgroundColor3 = isSpeedOn and Color3.fromRGB(0, 180, 100) or Color3.fromRGB(45, 45, 55)
    toggleSpeed(isSpeedOn)
end)

ui.infJumpBtn.MouseButton1Click:Connect(function()
    isInfJumpOn = not isInfJumpOn
    ui.infJumpBtn.Text = isInfJumpOn and "ğŸ¦˜ Infinite Jump: ON" or "ğŸ¦˜ Infinite Jump: OFF"
    ui.infJumpBtn.BackgroundColor3 = isInfJumpOn and Color3.fromRGB(0, 180, 100) or Color3.fromRGB(45, 45, 55)
    toggleInfJump(isInfJumpOn)
end)

ui.espBtn.MouseButton1Click:Connect(function()
    isEspOn = not isEspOn
    ui.espBtn.Text = isEspOn and "ğŸ‘ï¸ Player ESP: ON" or "ğŸ‘ï¸ Player ESP: OFF"
    ui.espBtn.BackgroundColor3 = isEspOn and Color3.fromRGB(0, 180, 100) or Color3.fromRGB(45, 45, 55)
    toggleESP(isEspOn, ui.status)
end)

ui.saveBtn.MouseButton1Click:Connect(function()
    local hrp = getHRP()
    if hrp then
        savedPosition = hrp.Position
        ui.status.Text = "ğŸ’¾ Base saved at: " .. math.floor(savedPosition.X) .. ", " .. math.floor(savedPosition.Z)
        ui.status.TextColor3 = Color3.fromRGB(0, 255, 136)
        ui.saveBtn.BackgroundColor3 = Color3.fromRGB(0, 255, 136)
        task.wait(0.3)
        ui.saveBtn.BackgroundColor3 = Color3.fromRGB(255, 140, 0)
    end
end)

ui.tpBaseBtn.MouseButton1Click:Connect(function()
    tpToSaved(ui.status)
end)

ui.tpMethodBtn.MouseButton1Click:Connect(function()
    local newMethod = cycleTpMethod()
    ui.tpMethodBtn.Text = "ğŸ”„ TP Method: " .. newMethod
end)

ui.noclipInBtn.MouseButton1Click:Connect(function()
    noclipForward(15, ui.status)
end)

ui.tpRoofBtn.MouseButton1Click:Connect(function()
    tpToRoof(ui.status)
end)

-- Respawn handling
player.CharacterAdded:Connect(function()
    task.wait(1)
    enableAntiRagdoll()
    fullAntiCheatBypass()
    
    if isNoclipOn then
        toggleNoclip(true, nil)
    end
    if isFlyOn then
        toggleFly(true, nil)
    end
    if isSpeedOn then
        toggleSpeed(true)
    end
    if isEspOn then
        toggleESP(true, nil)
    end
end)

print("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
print("âœ… NEXA V3 LOADED!")
print("")
print("ğŸ“‹ HOW TO STEAL:")
print("  1. Save your base position first")
print("  2. Enable ESP to find targets")
print("  3. Go to victim's base wall")
print("  4. Click 'Noclip Forward' (multiple times if needed)")
print("  5. Grab their brainrot")
print("  6. Click 'TP to Roof' to exit")
print("  7. Click 'TP to Your Base'")
print("")
print("ğŸ”§ TIPS:")
print("  - Right-click Noclip button to change method")
print("  - Click 'TP Method' to try different teleport styles")
print("  - If kicked, try a DIFFERENT SERVER")
print("  - Q/E to change fly speed")
print("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
